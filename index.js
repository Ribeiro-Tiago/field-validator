/**
 * @author Tiago Ribeiro - www.tiago-ribeiro.com
 * @version 1.0.0
 */ 
(function(){"use strict";const a=require("utilities-js"),c=function(e){d();let f=function(g,h){if(!g.classList.contains("has-error")){let j=document.createElement("span");g.classList.add("has-error"),j.innerHTML=h,g.appendChild(j)}};Array.prototype.forEach.call(e,function(g){let j=k=>{return a.isDOM(k)?k.parentElement:k[0].parentElement};isArray(g.input)?Array.prototype.forEach.call(g.input,function(k){f(j(k),g.error)}):f(j(g.input),g.error)})},d=function(){let e=document.getElementsByClassName("error-span");for(let f=e.length-1;0<=f;f--)e[f].parentElement.classList.remove("has-error"),e[f].remove()};window.validateInputs=function(e,f){if(a.isEmpty(e))throw new Error("Invalid arguments!");let h=[];const j=function(l,m,n,o,p){let q=l.tagName?l.value:l[0].value;if(p&&a.isEmpty(q))return!0;if("required"===m)a.isEmpty(q)&&h.push({error:n||"Required field!",input:l});else if("number"===m)isNumber(a.inputValue)||h.push({error:n||"Numeric field!",input:l});else if("even"===m)a.isEven(q)||h.push({error:n||"Value must be even!",input:l});else if("maxvalue"===m){if(!isNumber(a.ruleValue))throw new Error("Error validating maxvalue: value isn't number!");parseInt(q)>parseInt(o)&&h.push({error:n||"Value must be below "+o+"!",input:l})}else if("minvalue"===m){if(!isNumber(a.ruleValue))throw new Error("Error validating maxvalue: value isn't number!");parseInt(q)<parseInt(o)&&h.push({error:n||"Value must be above "+o+"!",input:l})}else if("positive"===m)a.isPositive(q)||h.push({error:n||"Field must be positive!",input:l});else if("equal"===m){let r=function(t){return parseInt(q)!==parseInt(t)},s=isObject(o)?o.every(r):r(o);s&&h.push({error:n||"Value must be one of the following: "+o+"!",input:l})}else if("maxlen"===m)q.length>o&&h.push({error:n||"Maximum value length: "+o+"!",input:l});else if("minlen"===m)q.length<o&&h.push({error:n||"Minimum value length: "+o+"!",input:l});else if("email"===m){let r=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);r.test(q)||h.push({error:n||"Invalid email!",input:l})}else if("phone"===m){let r=!1;for(let s in o){let t=o[s];if(r)break;for(let u=0;u<t.length;u++)if(t[u]!==q[u]){r=!0,h.push({error:n||"Values don't match!",input:l});break}}}else throw new Error("Invalid rule: !\n\tInput: "+l.name+"\n\tRule: "+m)},k=function(l){let m=l.rule,n=l.input;const o=function(p){isArray(m)?Array.prototype.forEach.call(m,function(q){j(p,q.rule,q.message,q.value,q.optional)}):isObject(m)?j(p,m.rule,m.message,m.value,m.optional):j(p,m,l.message,l.value,l.optional)};isArray(n)?Array.prototype.forEach.call(n,function(p){o(p)}):o(n)};return(isArray(e)?Array.prototype.forEach.call(e,function(l){k(l)}):k(e),f||!0)?a.isEmpty(h)?(d(),!0):(c(h),!1):a.isEmpty(h)}})();